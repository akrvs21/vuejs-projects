(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],v=0,f=[];v<s.length;v++)i=s[v],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="vue_projects/event-scheduler/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"098a":function(e,t,n){},1692:function(e,t,n){"use strict";n("9d93")},"2ed2":function(e,t,n){"use strict";n("bb89")},4294:function(e,t,n){"use strict";n("098a")},"4a93":function(e,t,n){},"522c":function(e,t,n){"use strict";n("4a93")},"569f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"state",(function(){return Ee}));var r={};n.r(r),n.d(r,"state",(function(){return Ce})),n.d(r,"mutations",(function(){return je})),n.d(r,"actions",(function(){return xe})),n.d(r,"getters",(function(){return Ne}));var o={};n.r(o),n.d(o,"namespaced",(function(){return Se})),n.d(o,"state",(function(){return $e})),n.d(o,"mutations",(function(){return ke})),n.d(o,"actions",(function(){return De}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("d3b7"),n("ddb0"),n("5319"),n("ac1f"),n("1276");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("NotificationContainer"),n("router-view",{key:e.$route.fullPath})],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:"/"}},[e._v("Real World Events")]),n("nav",[n("router-link",{attrs:{to:{name:"event-list"}}},[e._v("List")]),e._v(" | "),n("router-link",{attrs:{to:{name:"event-create"}}},[e._v("Create")])],1)],1)},l=[],v={},f=v,d=(n("d793"),n("2877")),p=Object(d["a"])(f,u,l,!1,null,"dd44aae8",null),m=p.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notifiaction-container"},e._l(e.notifications,(function(e){return n("NotificationBar",{key:e.id,attrs:{notification:e}})})),1)},_=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-bar",class:e.notificationTypeClass},[n("p",[e._v(e._s(e.notification.message))])])},b=[],E=n("2f62"),y={props:{notification:{type:Object,required:!0}},data:function(){return{timeoout:null}},mounted:function(){var e=this;this.timeoout=setTimeout((function(){return e.remove(e.notification)}),5e3)},beforeDestroy:function(){clearTimeout(this.timeoout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(E["b"])("notification",["remove"])},O=y,T=(n("522c"),Object(d["a"])(O,g,b,!1,null,"e5614768",null)),w=T.exports,C={components:{NotificationBar:w},computed:Object(E["c"])("notification",["notifications"])},j=C,x=(n("4294"),Object(d["a"])(j,h,_,!1,null,"1ff4acbd",null)),N=x.exports,S={components:{NavBar:m,NotificationContainer:N}},$=S,P=(n("034f"),Object(d["a"])($,s,c,!1,null,null,null)),k=P.exports,D=n("8c4f"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"event-header"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h1",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("h5",[e._v("Organized by "+e._s(e.event.organizer))]),n("h5",[e._v("Category: "+e._s(e.event.category))])]),n("BaseIcon",{attrs:{name:"map"}},[n("h2",[e._v("Location")])]),n("address",[e._v(e._s(e.event.location))]),n("h2",[e._v("Event details")]),n("p",[e._v(e._s(e.event.description))]),n("h2",[e._v("Attendees "),n("span",{staticClass:"badge -fill-gradient"},[e._v(e._s(e.event.attendees?e.event.attendees.length:0))])]),n("ul",{staticClass:"list-group"},e._l(e.event.attendees,(function(t,a){return n("li",{key:a,staticClass:"list-item"},[n("b",[e._v(e._s(t.name))])])})),0)],1)},L=[],B={props:["id"],created:function(){this.$store.dispatch("fetchEvent",this.id)},computed:Object(E["c"])({event:function(e){return e.event.event}})},V=B,I=(n("f512"),Object(d["a"])(V,A,L,!1,null,"d6a8796e",null)),M=I.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Create an Event")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.createEvent(t)}}},[n("label",[e._v("Select a category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.category,expression:"event.category"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"category",t.target.multiple?n:n[0])}}},e._l(e.categories,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0),n("h3",[e._v("Name & describe your event")]),n("div",{staticClass:"field"},[n("label",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],attrs:{type:"text",placeholder:"Add an event title"},domProps:{value:e.event.title},on:{input:function(t){t.target.composing||e.$set(e.event,"title",t.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[e._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],attrs:{type:"text",placeholder:"Add a description"},domProps:{value:e.event.description},on:{input:function(t){t.target.composing||e.$set(e.event,"description",t.target.value)}}})]),n("h3",[e._v("Where is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.location,expression:"event.location"}],attrs:{type:"text",placeholder:"Add a location"},domProps:{value:e.event.location},on:{input:function(t){t.target.composing||e.$set(e.event,"location",t.target.value)}}})]),n("h3",[e._v("When is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Date")]),n("datepicker",{attrs:{placeholder:"Select a date"},model:{value:e.event.date,callback:function(t){e.$set(e.event,"date",t)},expression:"event.date"}})],1),n("div",{staticClass:"field"},[n("label",[e._v("Select a time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.time,expression:"event.time"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"time",t.target.multiple?n:n[0])}}},e._l(e.times,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)]),n("input",{staticClass:"button -fill-gradient",attrs:{type:"submit",value:"Submit"}})])])},U=[],q=(n("b0c0"),n("fa33")),z={components:{Datepicker:q["a"]},data:function(){for(var e=[],t=1;t<=24;t++)e.push(t+":00");return{event:this.createFreshEventObject(),times:e,categories:this.$store.state.categories}},methods:{createEvent:function(){var e=this;this.$store.dispatch("createEvent",this.event).then((function(){e.$router.push({name:"event-show",params:{id:e.event.id}}),e.event=e.createFreshEventObject()})).catch((function(){}))},createFreshEventObject:function(){var e=this.$store.state.user.user,t=Math.floor(1e7*Math.random());return{id:t,category:"",user:e,organizer:e.name,title:"",description:"",location:"",date:"",time:"",attendees:[]}}}},H=z,W=(n("5a55"),Object(d["a"])(H,F,U,!1,null,"572847b4",null)),J=W.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Events for "+e._s(e.user.user.name))]),e._l(e.event.events,(function(e){return n("EventCard",{key:e.id,attrs:{event:e}})})),1!=e.page?[n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page-1}},rel:"prev"}},[e._v("Prev Page ")])]:e._e(),e.hasNextPage?[e._v("|")]:e._e(),e.hasNextPage?[n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page+1}},rel:"next"}},[e._v(" Next Page")])]:e._e()],2)},G=[],Y=n("5530"),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"event-link",attrs:{to:{name:"event-show",params:{id:e.event.id}}}},[n("div",{staticClass:"event-card -shadow"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h4",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("BaseIcon",{attrs:{name:"users"}},[e._v(e._s(e.event.attendees.length)+" attending")])],1)])},Q=[],X={props:{event:Object}},Z=X,ee=(n("2ed2"),Object(d["a"])(Z,K,Q,!1,null,"3b1025c6",null)),te=ee.exports,ne={components:{EventCard:te},created:function(){this.perPage=3,this.$store.dispatch("fetchEvents",{perPage:this.perPage,page:this.page})},computed:Object(Y["a"])({page:function(){return parseInt(this.$route.query.page)||1},hasNextPage:function(){return this.event.totalEventCount>this.page*this.perPage}},Object(E["c"])(["event","user"]))},ae=ne,re=Object(d["a"])(ae,R,G,!1,null,null,null),oe=re.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(e._s(e.username)+"'s space...")])},se=[],ce={props:["username"]},ue=ce,le=Object(d["a"])(ue,ie,se,!1,null,null,null),ve=le.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("PAGE NOT FOUND")])},de=[],pe={},me=Object(d["a"])(pe,fe,de,!1,null,null,null),he=me.exports;i["a"].use(D["a"]);var _e=[{path:"/",name:"event-list",component:oe},{path:"/event/:id",name:"event-show",component:M,props:!0},{path:"/event/create",name:"event-create",component:J},{path:"/user/:username",name:"user",component:ve,props:!0},{path:"*",component:he}],ge=new D["a"]({mode:"history",routes:_e}),be=ge,Ee={user:{id:"abc123",name:"Sam"}},ye=(n("4de4"),n("7db0"),n("bc3a")),Oe=n.n(ye),Te=Oe.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),we={getEvents:function(e,t){return Te.get("/events?_limit="+e+"&_page="+t)},getEvent:function(e){return Te.get("/events/"+e)},postEvent:function(e){return console.log("From postEvent event is ",e),Te.post("/events",e)}},Ce={todos:[],events:[],totalEventCount:0,event:{}},je={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_TOTAL_EVENTS:function(e,t){e.totalEventCount=t},SET_EVENT:function(e,t){e.event=t}},xe={createEvent:function(e,t){var n=e.commit,a=e.dispatch;return we.postEvent(t).then((function(){n("ADD_EVENT",t);var e={type:"success",message:"Your event has been created!"};a("notification/add",e,{root:!0})})).catch((function(e){var t={type:"error",message:"There was a problem creaing an event: "+e.message};throw a("notification/add",t,{root:!0}),e}))},fetchEvents:function(e,t){var n=e.commit,a=e.dispatch,r=t.perPage,o=t.page;we.getEvents(r,o).then((function(e){console.log(e.data),n("SET_EVENTS",e.data),n("SET_TOTAL_EVENTS",parseInt(e.headers["x-total-count"]))})).catch((function(e){var t={type:"error",message:"There was a problem fetching events: "+e.message};a("notification/add",t,{root:!0})}))},fetchEvent:function(e,t){var n=e.commit,a=e.getters,r=e.dispatch,o=a.getEventById(t);o?n("SET_EVENT",o):we.getEvent(t).then((function(e){n("SET_EVENT",e.data)})).catch((function(e){var t={type:"error",message:"There was a problem fetching event: "+e.message};r("notification/add",t,{root:!0})}))}},Ne={catLength:function(e){return e.categories.length},doneTodos:function(e){return e.todos.filter((function(e){return e.done}))},activeTodosCount:function(e){return e.todos.filter((function(e){return!e.done})).length},getEventById:function(e){return function(t){return e.events.find((function(e){return e.id===t}))}}},Se=!0,$e={notifications:[]},Pe=1,ke={PUSH:function(e,t){e.notifications.push(Object(Y["a"])(Object(Y["a"])({},t),{},{id:Pe++}))},DELETE:function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t.id}))}},De={add:function(e,t){var n=e.commit;n("PUSH",t)},remove:function(e,t){var n=e.commit;n("DELETE",t)}};i["a"].use(E["a"]);var Ae=new E["a"].Store({modules:{user:a,event:r,notification:o},state:{categories:["sustainability","nature","animal welfare","housing","education","food","community"]}}),Le=n("8103"),Be=n.n(Le),Ve=n("bba4"),Ie=n.n(Ve),Me=n("ef13");Me.keys().forEach((function(e){var t=Me(e),n=Be()(Ie()(e.split("/").pop().replace(/\.\w+$/,"")));i["a"].component(n,t.default||t)})),i["a"].config.productionTip=!1,new i["a"]({router:be,store:Ae,render:function(e){return e(k)}}).$mount("#app")},"5a55":function(e,t,n){"use strict";n("e327")},7461:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"icon-wrapper",domProps:{innerHTML:e._s(e.svg)}}),e._t("default")],2)},r=[],o=(n("a9e3"),n("b0c0"),n("77c6")),i=n.n(o),s={name:"Icon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},computed:{svg:function(){return i.a.icons[this.name].toSvg({class:"icon",width:this.width,height:this.height})}}},c=s,u=(n("1692"),n("2877")),l=Object(u["a"])(c,a,r,!1,null,"13f30fd6",null);t["default"]=l.exports},"85ec":function(e,t,n){},"9d93":function(e,t,n){},"9f22":function(e,t,n){},bb89:function(e,t,n){},d793:function(e,t,n){"use strict";n("569f")},e327:function(e,t,n){},ef13:function(e,t,n){var a={"./BaseIcon.vue":"7461"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="ef13"},f512:function(e,t,n){"use strict";n("9f22")}});
//# sourceMappingURL=app.c3dfeab1.js.map